\documentclass[11pt]{article}
%\usepackage[framemethod=tikz]{mdframed}
\usepackage{tcolorbox}
\usepackage{titling}
\usepackage[os=win]{menukeys}
\newcommand{\numpy}{{\tt numpy}}    % tt font for numpy

\topmargin -.5in
\textheight 9in
\oddsidemargin -.25in
\evensidemargin -.25in
\textwidth 7in

\pretitle{%
  \begin{center}
  \LARGE
  \includegraphics[width=15cm]{../images/logo.png}\\[\bigskipamount]
}
\posttitle{\end{center}}

\begin{document}

% ========== Edit your name here
\author{Dr. Evil \& Dr. Moon}
\title{KF5004\\------\\Workshop 4\\------\\Setting up a Basic \texttt{Primary DNS Server}\\------}
\date{September 2019}
\maketitle

\newpage

% \begin{center}
%     \noindent\rule{8cm}{0.4pt}
% \end{center}

% ========== Introduction

\noindent\textbf{Learning Outcomes:}
\begin{itemize}
    \item Create a Headless server.
    \item Install \texttt{bind9}.
    \item Configure \texttt{bind9} as a \texttt{Primary DNS Server}.
        \begin{itemize} 
            \item Non \texttt{Forwarding}.
            \item \texttt{Forwarding}.
        \end{itemize} 
    \item Identify the network activity generated by a \texttt{DNS} lookup.
\end{itemize}

% \begin{center}
% \noindent\rule{8cm}{0.4pt}
% \end{center}

\begin{tcolorbox}[title={\textbf{Important:}}]
    Before you begin, ensure the lab. \texttt{PC} you are using is connected to the off campus lab infrastructure and the machine receives an \texttt{IP} address from the lab. \texttt{DHCP} Server.
\end{tcolorbox}
\newpage

\noindent\textbf{The Exercise}\\
\begin{tcolorbox}[colback=blue!20]
    \noindent\textbf{From the commands and processes defined in the lecture carry out the following:}
\end{tcolorbox}

% ========== Begin answering questions here

\begin{tcolorbox}[title={\textbf{NOTE:}}]
    In this workshop you should use your virtual \texttt{Ubuntu Desktop} that you create in the first workshop. \textbf{Please do not alter the base machines in the laboratory}.
\end{tcolorbox}

\begin{enumerate}
    \item Create a new Virtual Machine and carry out a basic install. (Choose which ever technique you prefer)
        \begin{itemize}
            \item Create a machine from scratch.
            \item Copy the basic server create in the last session.
            \item Use the pre-created image from the \texttt{NAS} drive.
        \end{itemize}
        \begin{tcolorbox}[title={\textbf{NOTE:}}]
            A \texttt{DNS} Server should always have a static \texttt{IP} Address so once the machine has booted ensure you use one of your reserved \texttt{IP} Addresses.
        \end{tcolorbox}
    \item Install \texttt{bind9} on the server via a remote connection. 
        \begin{tcolorbox}[title={\textbf{NOTE:}}]
            Make sure you install both \texttt{bind9} and the \texttt{DNS} utilities. 
        \end{tcolorbox}
    \item Configure the server to support a \texttt{DNS} zone of \texttt{student.co.uk} (follow the lecture notes but use your \texttt{IP} range).
        \begin{itemize}
            \item Set up the following \texttt{IP} mappings. Where possible use \texttt{CNAME} records for services.
                \begin{tcolorbox}[title={\textbf{NOTE:}}]
                    The profile of use on the network usage is that the \texttt{mail} server is stable and should allow long term caching (2 months), the \texttt{me} machine is very dynamic and its address can change regularly and should not be cached. All other machines should use a default \texttt{TTL} or 2 weeks.
                \end{tcolorbox}
                \begin{itemize}
                    \item \texttt{192.168.100.2} $\Rightarrow$ \texttt{www2.student.co.uk}
                    \item \texttt{192.168.100.2} $\Rightarrow$ \texttt{www.student.co.uk}
                    \item \texttt{<your client IP>} $\Rightarrow$ \texttt{me.student.co.uk}
                    \item \texttt{192.168.100.21} $\Rightarrow$ \texttt{server.student.co.uk}
                    \item \texttt{192.168.100.2} $\Rightarrow$ \texttt{mail.student.co.uk}
                    \item \texttt{192.168.100.254} $\Rightarrow$ \texttt{gateway.student.co.uk}
                \end{itemize}
            \item Test your \texttt{zone} file has no errors.
            \item Test the following queries:
                \begin{itemize}
                    \item \texttt{www.google.com}
                    \item \texttt{www.student.co.uk}
                    \item \texttt{me.student.co.uk}
                    \item \texttt{www.offcampusnetwork.co.uk}
                    \item \texttt{www.vbox.org.uk}
                \end{itemize}
                \begin{tcolorbox}[colback=blue!20]
                    \noindent\textbf{For all of these exercises make sure you run \texttt{Wireshark} on the host \texttt{PC} and capture ALL Ethernet Traffic. You should be able to identify when caching is working (local resolver) from a lack of network traffic.}
                \end{tcolorbox}
                When You:
                \begin{itemize}
                    \item set your client machine to use nameserver 8.8.8.8
                    \item set your client machine to use nameserver 192.168.101.29
                    \item set your client machine to use the nameserver you created.
                    \item set your client machine to use nameserver 8.8.8.8.
                \end{itemize}
            \end{itemize}
    \item Limit the access to your \texttt{student.co.uk} domain so only locally connected clients can access it and run a query from your \texttt{Virtual Client}. 
    \item Block the \texttt{IP} address of your \texttt{Virtual Client} and try running the query again.
        \begin{itemize}
            \item Check the response from the server in \texttt{Wireshark}.
        \end{itemize}
\end{enumerate}    
END
\end{document}